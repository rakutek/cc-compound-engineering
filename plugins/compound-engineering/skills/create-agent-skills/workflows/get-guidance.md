# Workflow: スキル設計のガイダンスを得る

<required_reading>
**今すぐこれらのリファレンスファイルを読んでください:**
1. references/core-principles.md
2. references/recommended-structure.md
</required_reading>

<process>
## ステップ1: 問題空間を理解する

ユーザーに尋ねます:
- サポートしようとしているタスクまたはドメインは何ですか？
- これは繰り返し行うものですか？
- スキルが必要なほど複雑なのは何ですか？

## ステップ2: スキルが適切かどうかを判断する

**スキルを作成すべき場合:**
- 複数のセッションで繰り返されるタスク
- ドメイン知識が頻繁に変わらない
- 構造が役立つほど複雑
- 自動化すれば大幅な時間節約になる

**スキルを作成すべきではない場合:**
- 1回限りのタスク（直接実行する）
- 絶えず変化する（すぐに古くなる）
- 簡単すぎる（オーバーヘッドに見合わない）
- スラッシュコマンドの方が良い（ユーザーがトリガー、コンテキスト不要）

この評価をユーザーと共有します。

## ステップ3: ワークフローをマッピングする

「このスキルで誰かがやりたいことは何ですか？」と尋ねます。

一般的なパターン:
- 作成 / 読み取り / 更新 / 削除
- ビルド / デバッグ / シップ
- セットアップ / 使用 / トラブルシューティング
- インポート / 処理 / エクスポート

異なるワークフロー = 潜在的なワークフローファイル。

## ステップ4: ドメイン知識を特定する

「どのワークフローに関係なく必要な知識は何ですか？」と尋ねます。

これがリファレンスになります:
- APIパターン
- ベストプラクティス
- 一般的な例
- 設定詳細

## ステップ5: 構造のドラフトを作成する

回答に基づいて構造を推奨します:

**1つのワークフロー、シンプルな知識の場合:**
```
skill-name/
└── SKILL.md（すべてを1ファイルに）
```

**2つ以上のワークフロー、共有知識の場合:**
```
skill-name/
├── SKILL.md（ルーター）
├── workflows/
│   ├── workflow-a.md
│   └── workflow-b.md
└── references/
    └── shared-knowledge.md
```

## ステップ6: 基本原則を特定する

「どのワークフローに関係なく、常に適用すべきルールは何ですか？」と尋ねます。

これらがSKILL.mdの`<essential_principles>`になります。

例:
- 「成功を報告する前に必ず検証する」
- 「認証情報をコードに保存しない」
- 「破壊的な変更を行う前に確認する」

## ステップ7: 推奨事項を提示する

要約します:
- 推奨される構造（シンプルまたはルーターパターン）
- ワークフローのリスト
- リファレンスのリスト
- 基本原則

「この構造は意味がありますか？構築する準備ができていますか？」と尋ねます。

「はい」の場合 → 「新しいスキルを作成する」ワークフローへの切り替えを提案
「いいえ」の場合 → 明確化して繰り返す
</process>

<decision_framework>
## 迅速意思決定フレームワーク

| 状況 | 推奨 |
|-----------|----------------|
| 1つのタスク、頻繁に繰り返す | シンプルスキル |
| 複数の関連タスク | ルーター + ワークフロー |
| 複雑なドメイン、多くのパターン | ルーター + ワークフロー + リファレンス |
| ユーザーがトリガー、新鮮なコンテキスト | スラッシュコマンド、スキルではない |
| 1回限りのタスク | スキル不要 |
</decision_framework>

<success_criteria>
ガイダンスは以下が完了したときに完了です:
- [ ] ユーザーがスキルが必要かどうか理解している
- [ ] 構造が推奨され、説明されている
- [ ] ワークフローが特定されている
- [ ] リファレンスが特定されている
- [ ] 基本原則が特定されている
- [ ] ユーザーが構築する準備ができている（または作成しないことに決めた）
</success_criteria>
